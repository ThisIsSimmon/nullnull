@use '../abstracts/' as *;
@use 'sass:math';

.entry-content {
	margin: 13rem auto 0;
	max-width: 80rem;
	width: 100%;
	@include mq(mobile) {
		margin: 9rem auto 0;
	}

	h2 {
		font-size: 3.6rem;
		@include mq(mobile) {
			font-size: 3rem;
		}
	}

	h3 {
		font-size: 3.2rem;
		@include mq(mobile) {
			font-size: 2.7rem;
		}
	}

	h4 {
		font-size: 2.8rem;
		@include mq(mobile) {
			font-size: 2.4rem;
		}
	}

	h5 {
		font-size: 2.4rem;
		@include mq(mobile) {
			font-size: 2.1rem;
		}
	}

	h6 {
		font-size: 2rem;
		@include mq(mobile) {
			font-size: 1.8rem;
		}
	}

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		font-weight: 700;
		margin-top: 1.75em;
		&::after {
			@include shadow(hr);
			background: map-get($colors, bg-base);
			content: '';
			display: block;
			height: 2px;
			margin-top: calc(1.2rem - ((1em * #{$heading-line-height} - 1em) / 2));
		}
	}

	> h2:nth-child(1) {
		margin-top: 0;
	}

	> p:nth-child(1) {
		@include line-height-crop($text-line-height, 1, top);
		margin-top: 0;
	}

	ol,
	ul {
		margin: 1.8em 0 0;
		padding-left: calc(0.95em + 7px);
	}

	ol ul,
	ol ol,
	ul ul,
	ul ol {
		margin: 0.75em 0 0;
	}

	a {
		// text-decoration: underline;
		&[target='_blank']::after {
			background-image: url('#{$image-dir}/post/link.svg');
			background-repeat: no-repeat;
			background-position: center;
			background-size: contain;
			content: '';
			display: inline-flex;
			height: 1.2em;
			transform: translateY(0.2em);
			width: 1.2em;
		}
		&:hover {
			text-decoration: underline;
		}
	}

	small {
		color: map-get($colors, text-sub);
		display: block;
		font-size: 1.4rem;
		line-height: $text-line-height;
		letter-spacing: 0.01em;
		@include mq(mobile) {
			font-size: 1.2rem;
		}
	}

	strong {
		@include bg-gradient;
		background-position: bottom;
		background-repeat: no-repeat;
		background-size: 100% 30%;
		font-weight: 700;
	}

	p {
		+ p {
			margin-top: 1.8em;
		}

		> code {
			background-color: lighten(map-get($colors, text-sub), 40%);
			border-radius: 0.25em;
			font-size: 1em;
			font-family: inherit;
			padding: 0.05em 0.4em;
		}
	}

	&--privacy {
		> h2 {
			font-size: 2.4rem;
			@include mq(mobile) {
				font-size: 2.1rem;
			}
			&:nth-of-type(n + 2) {
				margin-top: 5.2rem;
			}
		}
	}

	&--contact {
		max-width: 60rem;
	}

	&--blog {
		margin: 10rem auto 0;
	}

	.wp-block-image,
	.wp-block-columns .wp-block-image {
		margin: 3em 0 0;
	}

	.wp-block-columns {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(18rem, 1fr));
		margin: 3em 0 0;
		gap: 1.5em;
		.wp-block-image {
			margin: 0;
		}
	}

	.wp-block-column:not(:first-child) {
		margin-left: 0;
	}

	:not(pre) > code[class*='language-'],
	pre[class*='language-'] {
		box-shadow: 2px 2px 4px rgba(255, 255, 255, 1), -2px -2px 4px rgb(0, 0, 0, 0.3), inset -2px -2px 6px rgb(255, 255, 255, 0.3), inset 2px 2px 6px rgb(0, 0, 0, 0.5);
		background: map-get($colors, text-main);
	}

	code[class*='language-'],
	pre[class*='language-'] {
		font-size: 1.4rem;
		border-radius: 1rem;
		text-shadow: none;
	}

	pre[class*='language-'] {
		margin: 2rem 0 0;
		padding: 4rem 2rem 3rem;
	}

	.token.operator,
	.token.entity,
	.token.url,
	.language-css .token.string,
	.style .token.string {
		background: none;
	}

	div.code-toolbar > .toolbar {
		display: flex;
		opacity: 1;
		right: 0.6rem;
		top: 0.6rem;
		> .toolbar-item {
			&:not(:last-of-type) {
				margin-right: 0.7em;
			}
			> button,
			> span {
				@include center;
				box-shadow: -1px -1px 2px rgba(255 255 255 / 40%), 2px 2px 4px rgb(0 0 0 / 70%), inset 1px 1px 2px rgb(255 255 255 / 40%), inset -1px -1px 2px rgb(0 0 0 / 70%);
				background: map-get($colors, text-main);
				border-radius: 0.5em;
				font-size: 1.2rem;
				line-height: 1;
				padding: 0.5em 0.6em;
				transition: box-shadow 0.5s map-get($easing-functions, easeOutCirc);
				@include mq(mobile) {
					font-size: 1.1rem;
				}
			}

			> button {
				&:hover,
				&[data-copy-state='copy-success'] {
					box-shadow: 2px 2px 4px rgba(255 255 255 / 30%), -1px -1px 2px rgb(0 0 0 / 60%), inset -1px -1px 2px rgb(255 255 255 / 30%), inset 2px 2px 4px rgb(0 0 0 / 80%);
				}
			}
		}
		a {
		}

		span {
			background: none;
			box-shadow: none;
			color: lighten(map-get($colors, text-sub), 17%);
			font-size: 1em;
			font-weight: 700;
			letter-spacing: 0.1em;
		}
	}

	.token.comment,
	.token.block-comment,
	.token.prolog,
	.token.doctype,
	.token.cdata {
		color: #9095b2;
	}

	.wp-block-table {
		border-radius: 1rem;
		box-shadow: 1px 1px 2px rgba(255, 255, 255, 0.69), -1px -1px 2px rgba(0, 0, 0, 0.1), inset -2px -2px 6px rgba(255, 255, 255, 0.69), inset 2px 2px 6px rgba(0, 0, 0, 0.12);
		margin: 2rem 0 0;
		max-width: 100%;
		width: max-content;

		table {
			width: auto;
			> thead {
				background-color: rgba(map-get($colors, text-sub), 0.1);
			}

			th,
			td {
				font-size: 1.6rem;
				padding: 0.5em 1.5em;
				@include mq(mobile) {
					font-size: 1.4rem;
				}
			}

			th {
				font-weight: 700;
				white-space: nowrap;
			}

			> tbody {
				> tr {
					&:nth-of-type(even) {
						background-color: rgba(map-get($colors, text-sub), 0.1);
					}
				}
			}
		}
	}
}
